2023-08-21 15:04 [Information] [PaymentGateway.API.Controllers.PaymentController] [] [API.ProcessPayment Process Payment MerchanId = 3fa85f64-5717-4562-b3fc-2c963f66afa6]
2023-08-21 15:08 [Information] [PaymentGateway.API.Controllers.PaymentController] [] [API.ProcessPayment Process Payment MerchanId = 3fa85f64-5717-4562-b3fc-2c963f66afa6]
2023-08-21 15:09 [Information] [PaymentGateway.API.Controllers.PaymentController] [] [API.GetMerchantPayments Get Merchant Payments PaymentId = 94903108-bc44-4c22-aeab-355249197576] 
2023-08-21 15:11 [Information] [PaymentGateway.API.Controllers.PaymentController] [] [API.GetMerchantPayments Get Merchant Payments PaymentId = 3fa85f64-5717-4562-b3fc-2c963f66afa6] 
2023-08-21 15:11 [Error] [PaymentGateway.API.Middleware.ExceptionHandler.ExceptionHandlerMiddleware] [] Writing to the response body is invalid for responses with status code 204.
System.InvalidOperationException: Writing to the response body is invalid for responses with status code 204.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponsePipeWriter.Advance(Int32 bytes)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.Write(HttpResponse response, String text, Encoding encoding)
   at Microsoft.AspNetCore.Http.HttpResponseWritingExtensions.WriteAsync(HttpResponse response, String text, Encoding encoding, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.TextOutputFormatter.WriteAsync(OutputFormatterWriteContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at PaymentGateway.API.Middleware.ExceptionHandler.ExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in D:\CheckOut\PaymentGateway.API\PaymentGateway.API\Middleware\ExceptionHandler\ExceptionHandlerMiddleware.cs:line 24
2023-08-21 15:11 [Error] [Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] [{ Id: 1, Name: "UnhandledException" }] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at PaymentGateway.API.Middleware.ExceptionHandler.ExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in D:\CheckOut\PaymentGateway.API\PaymentGateway.API\Middleware\ExceptionHandler\ExceptionHandlerMiddleware.cs:line 29
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-08-21 15:11 [Error] [Microsoft.AspNetCore.Server.Kestrel] [{ Id: 13, Name: "ApplicationError" }] Connection id ""0HMT29TO6M56G"", Request id ""0HMT29TO6M56G:00000006"": An unhandled exception was thrown by the application.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at PaymentGateway.API.Middleware.ExceptionHandler.ExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in D:\CheckOut\PaymentGateway.API\PaymentGateway.API\Middleware\ExceptionHandler\ExceptionHandlerMiddleware.cs:line 29
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2023-08-21 15:13 [Information] [PaymentGateway.API.Controllers.PaymentController] [] [API.GetMerchantPayments Get Merchant Payments PaymentId = 94903108-bc44-4c22-aeab-355249197576] 
2023-08-21 15:27 [Information] [PaymentGateway.API.Controllers.PaymentController] [] [API.ProcessPayment Process Payment MerchanId = 3fa85f64-5717-4562-b3fc-2c963f66afa6]
